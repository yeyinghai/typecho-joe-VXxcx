<!--pages/favorites/favorites.wxml-->
<view class="favorites-container">
  <!-- å¤´éƒ¨ -->
  <view class="favorites-header">
    <view class="header-left">
      <view class="header-title">æˆ‘çš„æ”¶è—</view>
      <view class="header-count">å…± {{favoritesList.length}} ç¯‡æ–‡ç« </view>
    </view>
    <view class="header-actions" wx:if="{{favoritesList.length > 0}}">
      <view class="clear-btn" bindtap="handleClearAll">
        <text class="clear-icon">ğŸ—‘ï¸</text>
        <text>æ¸…ç©º</text>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:elif="{{isEmpty}}" class="empty-state">
    <view class="empty-icon">ğŸ“š</view>
    <view class="empty-text">è¿˜æ²¡æœ‰æ”¶è—çš„æ–‡ç« </view>
    <view class="empty-desc">åœ¨æ–‡ç« è¯¦æƒ…é¡µç‚¹å‡»æ”¶è—æŒ‰é’®å³å¯æ”¶è—</view>
  </view>

  <!-- æ”¶è—åˆ—è¡¨ -->
  <view wx:else class="favorites-list">
    <view
      class="favorite-item"
      wx:for="{{favoritesList}}"
      wx:key="cid"
      bindtap="handleArticleTap"
      data-cid="{{item.cid}}"
    >
      <!-- æ–‡ç« ç¼©ç•¥å›¾ -->
      <view class="item-thumb" wx:if="{{item.thumbnail}}">
        <image class="thumb-image" src="{{item.thumbnail}}" mode="aspectFill"></image>
      </view>

      <!-- æ–‡ç« ä¿¡æ¯ -->
      <view class="item-content">
        <view class="item-title">{{item.title}}</view>
        <view class="item-meta">
          <text class="meta-item">ğŸ“… {{item.created}}</text>
          <text class="meta-item" wx:if="{{item.views}}">ğŸ‘ï¸ {{item.views}}</text>
        </view>
        <view class="item-footer">
<<<<<<< HEAD
          <view class="favorite-time">æ”¶è—äº {{item.formattedFavoriteTime}}</view>
=======
          <view class="favorite-time">æ”¶è—äº {{formatDate(item.favoriteTime)}}</view>
>>>>>>> 54264eccc89a7c93cf0975a89bc887d0dd82989a
        </view>
      </view>

      <!-- å–æ¶ˆæ”¶è—æŒ‰é’® -->
      <view
        class="item-action"
        catchtap="handleUnfavorite"
        data-cid="{{item.cid}}"
        data-title="{{item.title}}"
      >
        <text class="action-icon">â­</text>
      </view>
    </view>
  </view>
</view>
