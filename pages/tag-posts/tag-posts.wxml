<!--pages/tag-posts/tag-posts.wxml-->
<view class="tag-posts-container">
  <!-- æ ‡ç­¾æ ‡é¢˜ -->
  <view class="tag-header">
    <view class="tag-title">ğŸ·ï¸ {{tagName}}</view>
    <view class="tag-count">å…± {{posts.length}} ç¯‡æ–‡ç« </view>
  </view>

  <!-- æ–‡ç« åˆ—è¡¨ -->
  <view wx:if="{{posts.length}}" class="posts-list">
    <view
      class="post-item"
      wx:for="{{posts}}"
      wx:key="id"
      bindtap="handlePostTap"
      data-id="{{item.id}}"
    >
      <!-- æ–‡ç« ç¼©ç•¥å›¾ -->
      <image
        wx:if="{{item.thumbnail}}"
        class="post-thumbnail"
        src="{{item.thumbnail}}"
        mode="aspectFill"
      ></image>

      <!-- æ–‡ç« å†…å®¹ -->
      <view class="post-body">
        <view class="post-title">{{item.title}}</view>
        <view class="post-excerpt">{{item.excerpt}}</view>
        <view class="post-meta">
          <text class="meta-item">ğŸ“… {{item.created}}</text>
          <text class="meta-item" wx:if="{{item.category}}">ğŸ“‚ {{item.category}}</text>
        </view>
      </view>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>
    <view wx:elif="{{!hasMore}}" class="no-more">æ²¡æœ‰æ›´å¤šäº†</view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:elif="{{!loading}}" class="empty-state">
    <view class="empty-icon">ğŸ“„</view>
    <view class="empty-text">è¯¥æ ‡ç­¾ä¸‹æš‚æ— æ–‡ç« </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading && !posts.length}}" class="loading">åŠ è½½ä¸­...</view>
</view>
